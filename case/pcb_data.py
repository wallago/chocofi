"""
Chocofi PCB data extracted from KiCad.
Coordinates in mm, KiCad convention (Y down).
"""

# ── Board outline (Edge.Cuts, ordered closed loop) ──
SEGMENTS = [
    ("line", (112.910, 44.495), (112.927, 49.452)),
    ("arc", (112.927, 49.452), (112.427, 49.952), (112.781, 49.805)),
    ("line", (112.427, 49.952), (95.397, 49.952)),
    ("arc", (95.397, 49.952), (94.897, 50.452), (95.044, 50.098)),
    ("line", (94.897, 50.452), (94.895, 61.466)),
    ("arc", (94.895, 61.466), (94.395, 61.966), (94.749, 61.819)),
    ("line", (94.395, 61.966), (77.299, 61.921)),
    ("arc", (77.299, 61.921), (76.842, 62.378), (76.976, 62.055)),
    ("line", (76.842, 62.378), (76.893, 76.653)),
    ("line", (76.893, 76.653), (76.893, 93.722)),
    ("line", (76.893, 93.722), (76.893, 110.689)),
    ("line", (76.893, 110.689), (76.893, 112.061)),
    ("arc", (76.893, 112.061), (77.553, 112.721), (77.086, 112.528)),
    ("line", (77.553, 112.721), (94.012, 112.721)),
    ("arc", (94.012, 112.721), (94.673, 112.061), (94.479, 112.528)),
    ("line", (94.673, 112.061), (94.673, 110.689)),
    ("line", (94.673, 110.689), (94.724, 101.417)),
    ("arc", (94.724, 101.417), (95.333, 100.808), (94.902, 100.986)),
    ("line", (95.333, 100.808), (112.504, 100.808)),
    ("arc", (112.504, 100.808), (113.175, 101.240), (112.903, 100.925)),
    ("line", (113.175, 101.240), (124.899, 121.052)),
    ("arc", (124.899, 121.052), (125.254, 121.186), (125.064, 121.151)),
    ("line", (125.254, 121.186), (143.034, 121.205)),
    ("line", (143.034, 121.205), (160.357, 125.929)),
    ("line", (160.357, 125.929), (174.169, 133.905)),
    ("arc", (174.169, 133.905), (175.648, 133.600), (174.945, 133.929)),
    ("line", (175.648, 133.600), (188.094, 111.959)),
    ("line", (188.094, 111.959), (188.000, 54.250)),
    ("arc", (188.000, 54.250), (187.500, 53.750), (187.854, 53.896)),
    ("line", (187.500, 53.750), (167.210, 53.760)),
    ("arc", (167.210, 53.760), (166.730, 53.400), (166.910, 53.660)),
    ("arc", (166.730, 53.400), (166.240, 53.000), (166.557, 53.113)),
    ("line", (166.240, 53.000), (149.173, 53.014)),
    ("arc", (149.173, 53.014), (148.673, 52.514), (148.820, 52.868)),
    ("line", (148.673, 52.514), (148.673, 51.014)),
    ("arc", (148.673, 51.014), (148.173, 50.514), (148.527, 50.660)),
    ("line", (148.173, 50.514), (131.190, 50.498)),
    ("arc", (131.190, 50.498), (130.690, 49.998), (130.836, 50.352)),
    ("line", (130.690, 49.998), (130.690, 44.481)),
    ("arc", (130.690, 44.481), (130.190, 43.981), (130.544, 44.128)),
    ("line", (130.190, 43.981), (113.410, 43.995)),
    ("arc", (113.410, 43.995), (112.910, 44.495), (113.056, 44.141)),
]

# ── Switch positions: (x, y, rotation_degrees) ──
SWITCH_POSITIONS = [
    (121.91, 52.40, 0),
    (103.91, 58.40, 0),
    (139.91, 59.02, 0),
    (157.91, 61.40, 0),
    (121.91, 69.40, 0),
    (85.91, 70.40, 0),
    (103.91, 75.40, 0),
    (139.91, 76.02, 0),
    (157.91, 78.40, 0),
    (121.91, 86.40, 0),
    (85.91, 87.40, 0),
    (103.91, 92.40, 0),
    (139.91, 93.025, 0),
    (157.91, 95.40, 0),
    (85.91, 104.40, 0),
    (134.01, 112.99, 180),
    (154.06, 115.58, -165),
    (174.66, 118.79, 120),
]

# ── Switch PCB holes (local coords, from Kailh PG1350 reversible footprint) ──
# Center pin + stem holes (NPTH = non-plated through holes)
SWITCH_NPTH_HOLES = [
    # (local_x, local_y, drill_diameter)
    (-5.5, 0, 1.7018),  # side pin
    (-5.22, -4.2, 0.9906),  # alignment pin
    (-5.0, 3.75, 3.0),  # hotswap socket hole
    (0.0, 0.0, 3.429),  # center stem
    (0.0, 5.95, 3.0),  # hotswap socket hole
    (5.0, 3.75, 3.0),  # hotswap socket hole
    (5.22, -4.2, 0.9906),  # alignment pin
    (5.5, 0, 1.7018),  # side pin
]

# Center plated through hole in each switch
SWITCH_CENTER_HOLE = (0, 0, 2.2)  # drill=2.2mm

# ── Mounting holes: (x, y) ──
MOUNTING_HOLES = [
    (148.971, 69.850),
    (185.420, 106.426),
    (123.952, 104.140),
    (167.005, 110.363),
    (171.323, 96.901),
    (95.000, 83.820),
    (95.000, 66.802),
]
MOUNTING_HOLE_DRILL = 2.2

# ── nice!nano MCU (two row headers, rotated -90°) ──
# Each has 9 through-hole pads, drill=unknown from data but pin headers = ~1.0mm
NICENANO_HEADERS = [
    # Footprint 1 (F.Cu)
    (
        176.75,
        71.77,
        -90,
        [
            (-13.97, 7.62),
            (-11.43, 7.62),
            (-8.89, 7.62),
            (-6.35, 7.62),
            (-3.81, 7.62),
            (-1.27, 7.62),
            (1.27, 7.62),
            (3.81, 7.62),
            (6.35, 7.62),
            (8.89, 7.62),
            (11.43, 7.62),
            (13.97, 7.62),
            (-13.97, -7.62),
            (-11.43, -7.62),
            (-8.89, -7.62),
            (-6.35, -7.62),
            (-3.81, -7.62),
            (-1.27, -7.62),
            (1.27, -7.62),
            (3.81, -7.62),
            (6.35, -7.62),
            (8.89, -7.62),
            (11.43, -7.62),
            (13.97, -7.62),
        ],
    ),
    # Footprint 2 (B.Cu)
    (
        178.75,
        73.02,
        -90,
        [
            (-13.97, -7.62),
            (-11.43, -7.62),
            (-8.89, -7.62),
            (-6.35, -7.62),
            (-3.81, -7.62),
            (-1.27, -7.62),
            (1.27, -7.62),
            (3.81, -7.62),
            (6.35, -7.62),
            (8.89, -7.62),
            (11.43, -7.62),
            (13.97, -7.62),
            (-13.97, 7.62),
            (-11.43, 7.62),
            (-8.89, 7.62),
            (-6.35, 7.62),
            (-3.81, 7.62),
            (-1.27, 7.62),
            (1.27, 7.62),
            (3.81, 7.62),
            (6.35, 7.62),
            (8.89, 7.62),
            (11.43, 7.62),
            (13.97, 7.62),
        ],
    ),
]
NICENANO_PAD_DRILL = 1.0  # standard pin header hole

# MCU center Y for USB-C cutout positioning
MCU_Y_CENTER = 71.77
